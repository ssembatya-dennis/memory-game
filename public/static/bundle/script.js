(()=>{"use strict";var e=document.getElementById("move-count"),t=document.getElementById("time"),n=document.getElementById("start"),a=document.getElementById("restart-btn"),l=document.getElementById("restart-btn--mobile"),c=document.getElementById("restart-btn--winner"),i=document.getElementById("new-game"),r=document.getElementById("new-game--mobile"),o=document.getElementById("new-game--winner"),s=document.querySelector(".start-screen"),u=document.querySelector(".game-container"),d=document.querySelector(".game-board"),m=(document.querySelector(".game-controls"),document.getElementById("number_theme")),v=document.getElementById("icon_theme"),g=document.getElementById("player_Opt_1"),f=document.getElementById("player_Opt_2"),p=document.getElementById("player_Opt_3"),y=document.getElementById("player_Opt_4"),h=document.getElementById("grid_size_4"),L=document.getElementById("grid_size_6"),E=document.querySelector("[data-modal-target]"),b=document.getElementById("overlay"),I=document.getElementById("modal-mobile"),S=document.getElementById("resume"),w=document.getElementById("winner-screen"),B=document.getElementById("winner-screen_time"),k=document.getElementById("winner-screen_move"),T=document.getElementById("winner-title"),M=document.getElementById("high-score"),_=document.getElementById("solo-stats"),O=document.getElementById("multiple-stats"),A=function(){return A=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},A.apply(this,arguments)},z={elapsedTimeInMilliseconds:0,numberOfMoves:0,currentPlayer:1,numberOfPlayers:1,gameTheme:"icons",gridSize:4,flippedCards:[],gameState:"start",winner:0},q=z;function x(e){var t,n=A(A({},q),e);return JSON.stringify(q)!==JSON.stringify(n)&&("ongoing"===(q=n).gameState?(null==s||s.classList.add("hide"),null==u||u.classList.remove("hide")):"start"===q.gameState&&(null==s||s.classList.remove("hide"),null==u||u.classList.add("hide")),"start"===q.gameState&&("icons"===q.gameTheme?(null==m||m.classList.remove("menu-button-active"),null==v||v.classList.add("menu-button-active")):"numbers"===q.gameTheme&&(null==m||m.classList.add("menu-button-active"),null==v||v.classList.remove("menu-button-active")),t=q.numberOfPlayers-1,[g,f,p,y].forEach((function(e,n){n===t?null==e||e.classList.add("menu-button-active"):null==e||e.classList.remove("menu-button-active")})),4===q.gridSize?(null==h||h.classList.add("menu-button-active"),null==L||L.classList.remove("menu-button-active")):6===q.gridSize&&(null==h||h.classList.remove("menu-button-active"),null==L||L.classList.add("menu-button-active")),1===q.numberOfPlayers?(null==_||_.classList.remove("hide"),null==O||O.classList.add("hide")):(null==_||_.classList.add("hide"),null==O||O.classList.remove("hide"))),!0)}var C,H,P=0,N=function(){P=0,e.innerHTML="<span>".concat(P,"</span>")},D=!1,R=0;function j(){var e,n,a,l,c,i=Date.now(),r=(e=R=i-C,n=Math.floor(e%36e5/6e4),l=(a=Math.floor(e%6e4/1e3))<10?"0".concat(a):a,c=n<10?"0".concat(n):n,"".concat(c,":").concat(l));localStorage.setItem("time",r),t.innerHTML="<span>".concat(r,"</span>")}function J(){D?(clearInterval(H),D=!1):(C=0===R?Date.now():Date.now()-R,H=setInterval(j,10),D=!0)}function U(){clearInterval(H),t.innerHTML="00:00",D=!1,R=0,J()}function Y(){clearInterval(H),t.innerHTML="00:00",D=!1,R=0}function F(e){null!=e&&(e.classList.add("active"),b.classList.add("active"))}function G(e){null!=e&&(e.classList.remove("active"),b.classList.remove("active"))}var K,Q,V,W=null,X=null,Z=null,$=null,ee=null,te=null,ne=localStorage.getItem("time"),ae=localStorage.getItem("moves"),le=function(t,n,a){a.forEach((function(a){document.querySelector(".stats-wrapper"),document.querySelector(".stats-card"),document.querySelector(".move-count");var l=document.querySelector(".stats-current");t.addEventListener("click",(function(){if(!t.classList.contains("matched"))if(t.classList.add("flipped"),l.classList.add("match-multiple--span"),Z&&ee)if(P+=1,localStorage.setItem("moves","".concat(P," Moves")),e.innerHTML="<span>".concat(P,"</span>"),$=t,X=t.getAttribute("data-card-value"),Q=t.getAttribute("id"),te=a.getAttribute("id"),console.log(te),W==X&&K!=Q&&(Z.classList.add("matched"),$.classList.add("matched"),q.winner=q.winner+1,x({winner:q.winner})),q.winner==Math.floor(n.length/2))!function(e,t){F(w),J();var n=[e,t],a=n[0],l=n[1];e=localStorage.getItem("time"),t=localStorage.getItem("moves");var c=e.split(":"),i=c[0],r=c[1],o=a.split(":"),s=o[0],u=o[1],d=t.split(" ")[0],m=l.split(" ")[0];s>i||u>r&&m<d?(T.textContent="Congragulations ðŸ¥³",M.textContent="".concat(l," in ").concat(a)):(T.textContent="You did it",M.textContent="".concat(l," in ").concat(a)),B.innerText=e,k.innerText=t}(ne,ae);else{var c=[Z,$],i=c[0],r=c[1],o=i.getAttribute("data-card-value"),s=r.getAttribute("data-card-value");i.getAttribute("id")==r.getAttribute("id")||o!=s?setTimeout((function(){i.classList.remove("flipped"),r.classList.remove("flipped")}),900):(i.classList.add("flipped"),r.classList.add("flipped")),Z=null}else Z=t,W=t.getAttribute("data-card-value"),K=t.getAttribute("id"),ee=a.getAttribute("id"),console.log(ee)}))}))},ce=function(e,t,n){if(n||2===arguments.length)for(var a,l=0,c=t.length;l<c;l++)!a&&l in t||(a||(a=Array.prototype.slice.call(t,0,l)),a[l]=t[l]);return e.concat(a||Array.prototype.slice.call(t))},ie=[{name:"football",value:"football"},{name:"anchor",value:"anchor"},{name:"flask",value:"flask"},{name:"sun",value:"sun"},{name:"hand-spock",value:"hand-spock"},{name:"bug",value:"bug"},{name:"moon",value:"moon"},{name:"snow-flake",value:"snow-flake"},{name:"lira-sign",value:"lira-sign"},{name:"heart",value:"heart"},{name:"shield-halved",value:"shield-halved"},{name:"diamond",value:"diamond"},{name:"ring",value:"ring"},{name:"puzzle-piece",value:"puzzle-piece"},{name:"hat-cowboy",value:"hat-cowboy"},{name:"chess-knight",value:"chess-knight"},{name:"scroll",value:"scroll"},{name:"leaf",value:"leaf"}],re=[{name:"one",value:1},{name:"two",value:2},{name:"three",value:3},{name:"four",value:4},{name:"five",value:5},{name:"six",value:6},{name:"seven",value:7},{name:"eight",value:8},{name:"nine",value:9},{name:"ten",value:10},{name:"eleven",value:11},{name:"twelve",value:12},{name:"thirteen",value:13},{name:"fourteen",value:14},{name:"fifteen",value:15},{name:"sixteen",value:16},{name:"seventeen",value:17},{name:"eighteen",value:18}];function oe(){x(z)}function se(){x({flippedCards:[],elapsedTimeInMilliseconds:0,winner:0,gameState:"ongoing"})}function ue(e){x({gameTheme:e})}function de(e){x({gridSize:e})}function me(){!function(e,t){d.innerHTML="",(e=ce(ce([],e,!0),e,!0)).sort((function(){return Math.random()-.5}));for(var n=0;n<t*t;n++)d.innerHTML+='\n                              <div class="card-container '.concat(4==q.gridSize?"card-container--4":"card-container--6",'" id="').concat(n,'" data-card-value="').concat(e[n].name,'">\n                                <div class="card-back"></div>\n                                <div class="card-front">\n                                  ').concat("icons"===q.gameTheme?'<div class="icon '.concat(e[n].value,'"></div>'):'<span class="numeral">'.concat(e[n].value,"</span>"),"\n                                </div>\n                              </div>\n                            ");for(d.style.gridTemplateColumns="repeat(".concat(t,", auto)"),O.innerHTML="",n=0;n<q.numberOfPlayers;n++)O.innerHTML+='  <div class="stats-wrapper" id="player-'.concat(n+1,'">\n                                    <div class="stats-card">\n                                      <span class="stats-text">\n                                        Player ').concat(n+1,'\n                                      </span>\n                                      <div class="stats-num move-count">0</div>\n                                    </div>\n                                    <span class="stats-current">CURRENT TURN</span>\n                                  </div>\n                                ');V=document.querySelectorAll(".stats-wrapper"),document.querySelectorAll(".card-container").forEach((function(t){return le(t,e,V)}))}(function(e){var t="numbers"===q.gameTheme?ce([],re,!0):ce([],ie,!0),n=[];e=e*e/2;for(var a=0;a<e;a++){var l=Math.floor(Math.random()*t.length);n.push(t[l]),t.splice(l,1)}return n}(q.gridSize),q.gridSize)}[g,f,p,y].forEach((function(e,t){null==e||e.addEventListener("click",(function(){x({numberOfPlayers:t+1})}))})),null==h||h.addEventListener("click",(function(){return de(4)})),null==L||L.addEventListener("click",(function(){return de(6)})),null==m||m.addEventListener("click",(function(){return ue("numbers")})),null==v||v.addEventListener("click",(function(){return ue("icons")})),null==n||n.addEventListener("click",(function(){x({gameState:"ongoing"}),J(),me()})),null==a||a.addEventListener("click",(function(){se(),U(),N(),me()})),null==i||i.addEventListener("click",(function(){oe(),Y(),N()})),E.addEventListener("click",(function(){F(I),J()})),null==l||l.addEventListener("click",(function(){se(),U(),N(),me(),G(I)})),null==r||r.addEventListener("click",(function(){oe(),Y(),N(),G(I)})),null==S||S.addEventListener("click",(function(){J(),G(I)})),null==c||c.addEventListener("click",(function(){se(),U(),N(),me(),G(w)})),null==o||o.addEventListener("click",(function(){oe(),Y(),N(),G(w)}))})();