(()=>{"use strict";var e=document.getElementById("move-count"),n=document.getElementById("time"),t=document.getElementById("start"),a=document.getElementById("restart-btn"),l=document.getElementById("new-game"),i=document.querySelector(".start-screen"),c=document.querySelector(".game-container"),r=document.querySelector(".game-board"),u=(document.querySelector(".game-controls"),document.getElementById("number_theme")),o=document.getElementById("icon_theme"),s=document.getElementById("player_Opt_1"),d=document.getElementById("player_Opt_2"),m=document.getElementById("player_Opt_3"),v=document.getElementById("player_Opt_4"),g=document.getElementById("grid_size_4"),f=document.getElementById("grid_size_6"),h=function(){return h=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var l in n=arguments[t])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e},h.apply(this,arguments)},p={elapsedTimeInMilliseconds:0,numberOfMoves:0,currentPlayer:1,numberOfPlayers:1,gameTheme:"icons",gridSize:4,flippedCards:[],gameState:"start",winner:null},y=p;function b(e){var n,t=h(h({},y),e);return JSON.stringify(y)!==JSON.stringify(t)&&("ongoing"===(y=t).gameState?(null==i||i.classList.add("hide"),null==c||c.classList.remove("hide")):"start"===y.gameState&&(null==i||i.classList.remove("hide"),null==c||c.classList.add("hide")),"start"===y.gameState&&("icons"===y.gameTheme?(null==u||u.classList.remove("menu-button-active"),null==o||o.classList.add("menu-button-active")):"numbers"===y.gameTheme&&(null==u||u.classList.add("menu-button-active"),null==o||o.classList.remove("menu-button-active")),n=y.numberOfPlayers-1,[s,d,m,v].forEach((function(e,t){t===n?null==e||e.classList.add("menu-button-active"):null==e||e.classList.remove("menu-button-active")})),4===y.gridSize?(null==g||g.classList.add("menu-button-active"),null==f||f.classList.remove("menu-button-active")):6===y.gridSize&&(null==g||g.classList.remove("menu-button-active"),null==f||f.classList.add("menu-button-active"))),!0)}var L,E,I,S,k=null,T=null,M=null,_=null,w=0,z=function(n,t){n.addEventListener("click",(function(){if(!n.classList.contains("matched"))if(n.classList.add("flipped"),M)if(w+=1,e.innerHTML="<span>".concat(w,"</span>"),_=n,T=n.getAttribute("data-card-value"),E=n.getAttribute("id"),k==T&&L!=E&&(M.classList.add("matched"),_.classList.add("matched")),0==Math.floor(t.length/2));else{var a=[M,_],l=a[0],i=a[1],c=l.getAttribute("data-card-value"),r=i.getAttribute("data-card-value");l.getAttribute("id")==i.getAttribute("id")||c!=r?setTimeout((function(){l.classList.remove("flipped"),i.classList.remove("flipped")}),900):(l.classList.add("flipped"),i.classList.add("flipped")),M=null}else M=n,k=n.getAttribute("data-card-value"),L=n.getAttribute("id")}))},B=function(e,n,t){if(t||2===arguments.length)for(var a,l=0,i=n.length;l<i;l++)!a&&l in n||(a||(a=Array.prototype.slice.call(n,0,l)),a[l]=n[l]);return e.concat(a||Array.prototype.slice.call(n))},O=[{name:"football",value:"football"},{name:"anchor",value:"anchor"},{name:"flask",value:"flask"},{name:"sun",value:"sun"},{name:"hand-spock",value:"hand-spock"},{name:"bug",value:"bug"},{name:"moon",value:"moon"},{name:"snow-flake",value:"snow-flake"},{name:"lira-sign",value:"lira-sign"},{name:"heart",value:"heart"},{name:"shield-halved",value:"shield-halved"},{name:"diamond",value:"diamond"},{name:"ring",value:"ring"},{name:"puzzle-piece",value:"puzzle-piece"},{name:"hat-cowboy",value:"hat-cowboy"},{name:"chess-knight",value:"chess-knight"},{name:"scroll",value:"scroll"},{name:"leaf",value:"leaf"}],A=[{name:"one",value:1},{name:"two",value:2},{name:"three",value:3},{name:"four",value:4},{name:"five",value:5},{name:"six",value:6},{name:"seven",value:7},{name:"eight",value:8},{name:"nine",value:9},{name:"ten",value:10},{name:"eleven",value:11},{name:"twelve",value:12},{name:"thirteen",value:13},{name:"fourteen",value:14},{name:"fifteen",value:15},{name:"sixteen",value:16},{name:"seventeen",value:17},{name:"eighteen",value:18}],H=!1,q=0;function P(){var e,t,a,l,i,c=Date.now(),r=(e=q=c-I,t=Math.floor(e%36e5/6e4),l=(a=Math.floor(e%6e4/1e3))<10?"0".concat(a):a,i=t<10?"0".concat(t):t,"".concat(i,":").concat(l));n.innerHTML="<span>".concat(r,"</span>")}function C(){H?(clearInterval(S),H=!1):(I=0===q?Date.now():Date.now()-q,S=setInterval(P,10),H=!0)}function D(e){b({gameTheme:e})}function j(e){b({gridSize:e})}[s,d,m,v].forEach((function(e,n){null==e||e.addEventListener("click",(function(){b({numberOfPlayers:n+1})}))})),null==g||g.addEventListener("click",(function(){return j(4)})),null==f||f.addEventListener("click",(function(){return j(6)})),null==u||u.addEventListener("click",(function(){return D("numbers")})),null==o||o.addEventListener("click",(function(){return D("icons")})),null==t||t.addEventListener("click",(function(){b({gameState:"ongoing"}),C(),function(e,n){r.innerHTML="",(e=B(B([],e,!0),e,!0)).sort((function(){return Math.random()-.5}));for(var t=0;t<n*n;t++)r.innerHTML+='\n                              <div class="card-container '.concat(4==y.gridSize?"card-container--4":"card-container--6",'" id="').concat(t,'" data-card-value="').concat(e[t].name,'">\n                                <div class="card-back"></div>\n                                <div class="card-front">\n                                  ').concat("icons"===y.gameTheme?'<div class="icon '.concat(e[t].value,'"></div>'):'<span class="numeral">'.concat(e[t].value,"</span>"),"\n                                </div>\n                              </div>\n                            ");r.style.gridTemplateColumns="repeat(".concat(n,", auto)"),document.querySelectorAll(".card-container").forEach((function(n){return z(n,e)}))}(function(e){var n="numbers"===y.gameTheme?B([],A,!0):B([],O,!0),t=[];e=e*e/2;for(var a=0;a<e;a++){var l=Math.floor(Math.random()*n.length);t.push(n[l]),n.splice(l,1)}return t}(y.gridSize),y.gridSize),console.log(y.elapsedTimeInMilliseconds)})),null==a||a.addEventListener("click",(function(){b({flippedCards:[],elapsedTimeInMilliseconds:0,winner:null,gameState:"ongoing"}),clearInterval(S),n.innerHTML="00:00",H=!1,q=0,C()})),null==l||l.addEventListener("click",(function(){b(p),clearInterval(S),n.innerHTML="00:00",H=!1,q=0}))})();